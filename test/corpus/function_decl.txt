====================
Function Declaration
====================
function test(int a, int b) {

}

---
(source_file
  (module_part
    (module_defn
      (function_defn
        (identifier)
        (signature
          (param_list
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name)
                  )
                )
              )
              (identifier)
            )
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name)
                  )
                )
              )
              (identifier)
            )
          )
        )
        (stmt_block)
      )
    )
  )
)

==============
Arrow function
==============

function foo(int a) returns int => a+1;

---
(source_file
  (module_part
    (module_defn
      (function_defn
        (identifier)
        (signature
          (param_list
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier)))
          (type_desc
            (postfix_type_desc
              (primary_type_desc
                (builtin_type_name)))))
        (expr_function_body
          (expression
            (inner_expr
              (nil_lifted_expr
                (additive_expr
                  (expression
                    (inner_expr
                      (primary_expr
                        (variable_reference_expr
                          (identifier)))))
                  (expression
                    (inner_expr
                      (primary_expr
                        (literal
                          (int_literal
                            (decimal_number
                              (non_zero_digit))))))))))))))))

==================================
Function with include record param
==================================
public function main(string[] filenames, *Options opts) returns error? {
}
---
(source_file
  (module_part
    (module_defn
      (function_defn
        (identifier)
        (signature
          (param_list
            (param
              (type_desc
                (postfix_type_desc
                  (array_type_desc
                    (array_member_type_desc
                      (type_desc
                        (postfix_type_desc
                          (primary_type_desc
                            (builtin_type_name)))))
                    (array_dimensions))))
              (identifier))
            (include_record_param
              (type_reference
                (identifier))
              (identifier)))
          (type_desc
            (postfix_type_desc
              (optional_type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name)))))))
        (stmt_block)))))

===============================
Function with defaultable param
===============================

function foo(int a, int b = 10, int c = 5) returns int {
  return a + b;
}
---
(source_file
  (module_part
  (module_defn
    (function_defn
      (identifier)
      (signature
        (param_list
          (param
            (type_desc
              (postfix_type_desc
                (primary_type_desc
                  (builtin_type_name))))
            (identifier))
          (defaultable_param
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))
            (expression
              (inner_expr
                (primary_expr
                  (literal
                    (int_literal
                      (decimal_number
                        (non_zero_digit)
                        (digit))))))))
          (defaultable_param
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))
            (expression
              (inner_expr
                (primary_expr
                  (literal
                    (int_literal
                      (decimal_number
                        (non_zero_digit)))))))))
        (type_desc
          (postfix_type_desc
            (primary_type_desc
              (builtin_type_name)))))
      (stmt_block
        (statement
          (return_stmt
            (expression
              (inner_expr
                (nil_lifted_expr
                  (additive_expr
                    (expression
                      (inner_expr
                        (primary_expr
                          (variable_reference_expr
                            (identifier)))))
                    (expression
                      (inner_expr
                        (primary_expr
                          (variable_reference_expr
                            (identifier))))))))))))))))

====================================
Function with only defaultable param
====================================

function foo(int a=6, int b = 10) returns int {
  return a + b;
}
---
(source_file
  (module_part
  (module_defn
    (function_defn
      (identifier)
      (signature
        (param_list
          (defaultable_param
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))
            (expression
              (inner_expr
                (primary_expr
                  (literal
                    (int_literal
                      (decimal_number
                        (non_zero_digit))))))))
          (defaultable_param
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))
            (expression
              (inner_expr
                (primary_expr
                  (literal
                    (int_literal
                      (decimal_number
                        (non_zero_digit)
                        (digit)))))))))
        (type_desc
          (postfix_type_desc
            (primary_type_desc
              (builtin_type_name)))))
      (stmt_block
        (statement
          (return_stmt
            (expression
              (inner_expr
                (nil_lifted_expr
                  (additive_expr
                    (expression
                      (inner_expr
                        (primary_expr
                          (variable_reference_expr
                            (identifier)))))
                    (expression
                      (inner_expr
                        (primary_expr
                          (variable_reference_expr
                            (identifier))))))))))))))))

==========
Rest param
==========
function test(int... a) { }
---
(source_file
  (module_part
    (module_defn
      (function_defn
        (identifier)
        (signature
          (param_list
            (rest_param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))))
        (stmt_block)
      )
    )
  )
)

==============================
Rest param with required param
==============================
function test(int a, int... b) { }
---
(source_file
  (module_part
    (module_defn
      (function_defn
        (identifier)
        (signature
          (param_list
            (param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))
            (rest_param
              (type_desc
                (postfix_type_desc
                  (primary_type_desc
                    (builtin_type_name))))
              (identifier))))
        (stmt_block)
      )
    )
  )
)
